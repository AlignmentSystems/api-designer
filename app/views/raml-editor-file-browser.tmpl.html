<raml-editor-context-menu></raml-editor-context-menu>
<script type="text/ng-template" id="filelist.html">
  <div class="file-item" ng-if="node.type === 'file'" ng-click="fileBrowser.selectFile(node)" ng-class="{currentfile: fileBrowser.selectedFile === node, dirty: node.dirty, geared: fileBrowser.contextMenuOpenedFor(node)}">
    <span class="file-name"><i class="fa fa-file-text-o icon"></i>&nbsp;{{node.name}}</span>
    <i class="fa fa-cog" ng-click="fileBrowser.showContextMenu($event, node)"></i>
  </div>

  <div class="file-item" ng-if="node.type != 'file'" ng-click="toggle(this)">
    <span class="file-name directory"><i class="fa fa-folder icon"></i>&nbsp;{{node.name}}</span>
    <i class="fa fa-plus"></i>
    <i class="fa fa-times"></i>
  </div>

  <ul ui-tree-nodes="" ng-class="{hidden: collapsed}" ng-model="node.children">
    <li ng-repeat="node in node.children" ui-tree-node ng-include="'filelist.html'" >
    </li>
  </ul>
</script>

<div class="file-list" ui-tree data-drag-enabled=false>
  <ul ui-tree-nodes="" ng-model="homeDirectory.children" id="tree-root">
    <li ng-repeat="node in homeDirectory.children" ui-tree-node ng-include="'filelist.html'"></li>
  </ul>
</div>
