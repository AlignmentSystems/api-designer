<form name="form" novalidate ng-submit="import(form)">
  <div class="modal-header">
    <h3>Import file (beta)</h3>
  </div>

  <div class="modal-body" ng-class="{'has-error': submittedType === mode.type && form.$invalid}">
    <div style="text-align: center; font-size: 2em; margin-bottom: 1em;" ng-show="importing">
      <i class="fa fa-spin fa-spinner"></i>
    </div>

    <div class="form-group" style="margin-bottom: 10px;">
      <div style="float: left; width: 145px;">
        <select class="form-control" ng-model="mode" ng-options="option.name for option in options"></select>
      </div>

      <div style="margin-left: 160px;" ng-switch="mode.type">
        <input id="swagger" name="swagger" type="text" ng-model="mode.value" class="form-control" required ng-switch-when="swagger" placeholder="http://example.swagger.wordnik.com/api/api-docs">

        <input id="swaggerV2" name="swaggerV2" type="file" ng-model="mode.value" class="form-control" required ng-switch-when="swaggerV2" onchange="angular.element(this).scope().handleFileSelect(this)">

        <input id="file" name="file" type="file" ng-model="mode.value" class="form-control" required ng-switch-when="file" onchange="angular.element(this).scope().handleFileSelect(this)">

        <input id="zip" name="zip" type="file" ng-model="mode.value" class="form-control" required ng-switch-when="zip" onchange="angular.element(this).scope().handleFileSelect(this)">
      </div>
    </div>

    <div ng-if="submittedType === 'swagger'">
      <p class="help-block" ng-show="form.swagger.$error.required">Please provide a URL.</p>
    </div>

    <div ng-if="submittedType === 'swaggerV2'">
      <p class="help-block" ng-show="form.swaggerV2.$error.required">Please select a Swagger 2.0 spec file to import.</p>
    </div>

    <div ng-if="submittedType === 'file'">
      <p class="help-block" ng-show="form.file.$error.required">Please select a file to import.</p>
    </div>

    <div ng-if="submittedType === 'zip'">
      <p class="help-block" ng-show="form.zip.$error.required">Please select a zip to import.</p>
    </div>

    <div ng-if="mode.type === 'file'">
      <p>If you want to upload multiple files, you can .zip them and import them in a single step.</p>
    </div>

    <div ng-if="mode.type === 'swagger' || mode.type === 'zip'">
      <p><b>Note:</b> This option works for Swagger 1.2 only, for Swagger 2.0 support use the <i>Swagger 2.0 spec</i> option</p>
    </div>
  </div>

  <div class="modal-footer" style="margin-top: 0;">
    <button type="button" class="btn btn-default" ng-click="$dismiss()">Close</button>
    <button type="submit" class="btn btn-primary">Import</button>
  </div>
</form>
